# 쓰레드란?

---

- 프로세스의 실행 단위를 쓰레드라고 합니다
- 스레드들은 프로세스 내에서 동시에 실행되는 여러 작업 흐름으로 , 프로세스의 자원을 공유하면서 동작합니다.
- 각각 쓰레드는 독립적인 실행 경로를 가지며 실행하기위한 정보 , 스텍 영역 , 프로그램 카운터 등을 제외한 나머지 프로세스 정보를 공유하며 동작합니다.

# 싱글쓰레드와 멀티 쓰레드

---

- 싱글 쓰레드는 프로세스내에 하나의 쓰레드만을 가지며 동작하는 경우를 말합니다.
- 멀티 쓰레드는 프로세스내 여러 쓰레드를 가지며 동시에 수행될 수 있으므로 실행 능력이 향상될 수 있습니다.

# 멀티 프로세스와 멀티 쓰레드

---

멀티 프로세스와 멀티 스레드는 하나의 어플리케이션에 대한 처리 방식을 말합니다.

### 멀티 프로세스

- 멀티 프로세스는 하나의 응용 프로그램에 대해 동시에 여러개 프로세스를 실행하는 것을 말합니다.
- 멀티 프로세스는 독립적으로 각각 별도의 데이터 , 코드 , 힙 , 스텍 영역을 가지고 실행합니다.
- 별도의 프로세스 메모리 공간을 가지기 때문에 Context Switching 비용이 쓰레드보다 큽니다.
- 프로세스를 독립적으로 실행하기 때문에 하나의 프로세스 실행에 문제가 생겨도 다른 프로세스에 영향을 주지 않습니다.

---

### 멀티 쓰레드

- 멀티 쓰레드는 하나의 프로세스 내 여러 쓰레드가 생성되어 실행하는 것을 말합니다.
- 하나의 프로세스의 데이터 , 힙 , 코드 영역을 공유하고 실행에 필요한 정보만을 가지고 있기 때문에  Context Switching 비용이 프로세스보다 쌉니다.
- 공유 자원에 대해 동시성을 고려해야합니다.

# 멀티 쓰레드의 문제점

---

여러 쓰레드가 프로세스의 힙영역 , 데이터 영역 , 코드 영역을 공유하기 때문에  다수의 쓰레드가 공유 영역에 동시에 접근하는 경우 동기화 문제가 발생할 수 있습니다

# 쓰레드는 얼마나 생성할 수 있는가

---

운영체제 마다 프로세스에 할당할 쓰레드 개수에 제한을 두고 있습니다. 이는 시스템 리소스마다 다릅니다.

쓰레드는 메모리는 소비하고 스케쥴링 및 동기화 작업을 위한 오버헤드도 동반합니다.

따라서 무분별한 쓰레드 사용은 오히려 성능 저하로 이어질 수 있습니다.

시스템 자원마다 최적의 쓰레드 수는 다를 수 있습니다. 

`적정 쓰레드 수 = 코어수 * ( 1 + 대기시간 / 작업시간 )`
